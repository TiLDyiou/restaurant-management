<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="RestaurantManagementGUI.ForgotPasswordPage"
             BackgroundColor="#FFF8F0">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <Label Text="Quên mật khẩu"
               FontSize="28"
               FontAttributes="Bold"
               TextColor="Black"
               HorizontalOptions="Center"
               Margin="0,10,0,20">
            </Label>


            <!-- Step 1: Nhập Email -->
            <Frame x:Name="Step1Layout" CornerRadius="15" Padding="15" HasShadow="True" BackgroundColor="#FFFFFF">
                <StackLayout Spacing="15">
                    <Label Text="Nhập email để nhận OTP"
                           TextColor="#37474F"
                           FontAttributes="Bold"/>
                    <Frame BackgroundColor="#F5F5F5" CornerRadius="10" Padding="5">
                        <Entry x:Name="EmailEntry"
                               Placeholder="Email"
                               PlaceholderColor="#9E9E9E"
                               TextColor="#000000"
                               Keyboard="Email"
                               BackgroundColor="Transparent"/>
                    </Frame>

                    <!-- Button gradient vàng -->
                    <Button x:Name="SendOtpButton"
                            Text="Gửi OTP"
                            FontAttributes="Bold"
                            CornerRadius="12"
                            HeightRequest="50"
                            Clicked="OnSendOtpClicked">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#FFD700" Offset="0.0" />
                                <GradientStop Color="#FFC107" Offset="1.0" />
                            </LinearGradientBrush>
                        </Button.Background>
                        <Button.TextColor>White</Button.TextColor>
                    </Button>
                </StackLayout>
            </Frame>

            <!-- Step 2: Nhập OTP -->
            <Frame x:Name="Step2VerifyLayout" IsVisible="False" CornerRadius="15" Padding="15" HasShadow="True" BackgroundColor="#FFFFFF">
                <StackLayout Spacing="15">
                    <Label Text="Nhập mã OTP đã được gửi đến email"
                           TextColor="#37474F"
                           FontAttributes="Bold"/>
                    <Frame BackgroundColor="#F5F5F5" CornerRadius="10" Padding="5">
                        <Entry x:Name="OtpEntry"
                               Placeholder="OTP"
                               PlaceholderColor="#9E9E9E"
                               TextColor="#000000"
                               Keyboard="Numeric"
                               BackgroundColor="Transparent"/>
                    </Frame>

                    <!-- Button gradient vàng -->
                    <Button x:Name="VerifyOtpButton"
                            Text="Xác nhận OTP"
                            FontAttributes="Bold"
                            CornerRadius="12"
                            HeightRequest="50"
                            Clicked="OnVerifyOtpClicked">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#FFD700" Offset="0.0" />
                                <GradientStop Color="#FFC107" Offset="1.0" />
                            </LinearGradientBrush>
                        </Button.Background>
                        <Button.TextColor>White</Button.TextColor>
                    </Button>

                    <!-- Link gửi lại OTP -->
                    <Label x:Name="ResendOtpButton"
                           Text="Gửi lại OTP"
                           TextColor="Black"
                           FontSize="14"
                           HorizontalOptions="Center"
                           TextDecorations="Underline">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnResendOtpClicked"/>
                        </Label.GestureRecognizers>
                    </Label>
                </StackLayout>
            </Frame>

            <!-- Step 3: Nhập mật khẩu mới -->
            <Frame x:Name="Step3ResetLayout" IsVisible="False" CornerRadius="15" Padding="15" HasShadow="True" BackgroundColor="#FFFFFF">
                <StackLayout Spacing="15">
                    <Label Text="Nhập mật khẩu mới"
                           TextColor="#37474F"
                           FontAttributes="Bold"/>
                    <Frame BackgroundColor="#F5F5F5" CornerRadius="10" Padding="5">
                        <Entry x:Name="NewPasswordEntry"
                               Placeholder="Mật khẩu mới"
                               PlaceholderColor="#9E9E9E"
                               IsPassword="True"
                               TextColor="#000000"
                               BackgroundColor="Transparent"/>
                    </Frame>
                    <Frame BackgroundColor="#F5F5F5" CornerRadius="10" Padding="5">
                        <Entry x:Name="ConfirmPasswordEntry"
                               Placeholder="Xác nhận mật khẩu mới"
                               PlaceholderColor="#9E9E9E"
                               IsPassword="True"
                               TextColor="#000000"
                               BackgroundColor="Transparent"/>
                    </Frame>

                    <!-- Button gradient vàng -->
                    <Button x:Name="ResetPasswordButton"
                            Text="Đổi mật khẩu"
                            FontAttributes="Bold"
                            CornerRadius="12"
                            HeightRequest="50"
                            Clicked="OnResetPasswordClicked">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#FFD700" Offset="0.0" />
                                <GradientStop Color="#FFC107" Offset="1.0" />
                            </LinearGradientBrush>
                        </Button.Background>
                        <Button.TextColor>White</Button.TextColor>
                    </Button>
                </StackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
