<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="MenuNhaHang.GioHangPage"
    Title="Giá» hÃ ng"
    BackgroundColor="#FFF8E1">

    <Grid RowDefinitions="*,Auto" Padding="20">

        <!-- Danh sÃ¡ch mÃ³n trong giá» -->
        <CollectionView x:Name="DanhSachGioHang">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border Stroke="#E0E0E0" StrokeShape="RoundRectangle 15" BackgroundColor="White" Margin="0,8">
                        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="10" Padding="10">
                            <Image Source="{Binding Hinh}" WidthRequest="70" HeightRequest="70" Aspect="AspectFill" />

                            <VerticalStackLayout Grid.Column="1" VerticalOptions="Center">
                                <Label Text="{Binding Ten}" FontAttributes="Bold" FontSize="18" TextColor="#3E2723"/>
                                <Label Text="{Binding Gia, StringFormat='{0:N0} Ä‘'}" FontSize="14" TextColor="#795548"/>
                            </VerticalStackLayout>

                            <HorizontalStackLayout Grid.Column="2" Spacing="5" VerticalOptions="Center">
                                <Button Text="-" WidthRequest="35" HeightRequest="35" CornerRadius="18"
                                        BackgroundColor="#D7CCC8" TextColor="#3E2723"
                                        CommandParameter="{Binding .}" Clicked="GiamSoLuong_Clicked"/>
                                <Label Text="{Binding SoLuong}" FontSize="16" VerticalOptions="Center"/>
                                <Button Text="+" WidthRequest="35" HeightRequest="35" CornerRadius="18"
                                        BackgroundColor="#B71C1C" TextColor="White"
                                        CommandParameter="{Binding .}" Clicked="TangSoLuong_Clicked"/>
                                <Button Text="ðŸ—‘" WidthRequest="35" HeightRequest="35" CornerRadius="18"
                                        BackgroundColor="#E53935" TextColor="White"
                                        CommandParameter="{Binding .}" Clicked="XoaMon_Clicked"/>
                            </HorizontalStackLayout>
                        </Grid>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Thanh tá»•ng tiá»n -->
        <Border Grid.Row="1" StrokeShape="RoundRectangle 25" BackgroundColor="White" Stroke="#DDD"
                Padding="15" Margin="0,10,0,0">
            <Grid ColumnDefinitions="*,Auto" VerticalOptions="Center">
                <Label x:Name="lblTongTien"
                       Text="Tá»•ng tiá»n: 0 Ä‘"
                       FontAttributes="Bold"
                       FontSize="18"
                       TextColor="#3E2723"
                       VerticalOptions="Center"/>

                <Button Grid.Column="1" Text="Thanh toÃ¡n"
                        BackgroundColor="#B71C1C"
                        TextColor="White"
                        FontSize="16"
                        CornerRadius="25"
                        Padding="25,10"
                        Clicked="ThanhToan_Clicked"/>
            </Grid>
        </Border>
    </Grid>
</ContentPage>
